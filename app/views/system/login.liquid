{% assign layout = 'system' %}
<script type="text/javascript">
var fieldRequired = Array();
var fieldDescription = Array();
function form_check(formobj) {
// dialog message
  var alertMsg = "Please complete the following required fields:\n";
  var l_Msg = alertMsg.length;
  for (var i = 0; i < fieldRequired.length; i++) {
    var obj = formobj.elements[fieldRequired[i]];
    var the_obj = document.getElementById(fieldRequired[i]);
    if (obj) {
      the_obj.className = "";
      switch (obj.type) {
        case "select-one":
          if (obj.selectedIndex == 0 || obj.options[obj.selectedIndex].text == "") {
            alertMsg += " - " + fieldDescription[i] + "\n";
            the_obj.className = "form_validation_error";
          }
          break;
        case "select-multiple":
        case "select":
          if (obj.selectedIndex == 0) {
            alertMsg += " - " + fieldDescription[i] + "\n";
            the_obj.className = "form_validation_error";
          }
          break;
        case "file":
        case "text":
        case "password":
        case "textarea":
          if (fieldRequired[i] == 'email' && !obj.value.match(/^[a-zA-Z0-9\._\-]*@[a-zA-Z0-9\.\-]*\.[a-zA-Z]{2,6}(\.[a-zA-Z]{2,4})?$/)) {
            alertMsg += " - " + fieldDescription[i] + "\n";
            the_obj.className = "form_validation_error";
          } else if (obj.value == "" || obj.value == null) {
            alertMsg += " - " + fieldDescription[i] + "\n";
            the_obj.className = "form_validation_error";
          }
          break;
        case "checkbox":
          if (obj.checked == true) {
            alert(fieldDescription[i]);
            the_obj.className = "form_validation_error";
          }
          break;
        default:
      }
      if (obj.type == undefined) {
        var blnchecked = false;
        for (var j = 0; j < obj.length; j++) {
          if (obj[j].checked) {
            blnchecked = true;
          }
        }
        if (!blnchecked) {
          alertMsg += " - " + fieldDescription[i] + "\n";
          the_obj.className = "form_validation_error";
        }
      }
    }
  }
  if (alertMsg.length == l_Msg) {
    return true;
  } else {
    alert(alertMsg);
    return false;
  }
}
function check_login(form) {
  fieldRequired = Array('member_username', 'member_password');
  fieldDescription = Array('Username', 'Password');
  return form_check(form);
}
function check_forgot_password(form) {
  fieldRequired = Array('keyword');
  fieldDescription = Array('Domain / Username');
  return form_check(form);
}
</script>
<h3 class="page_header_system">Domain Manager</h3>
<div class="content_indent">

  {% if error == '1' %}
  <div class="error_content" style="width: 552px">
    <strong>The Following Errors Occurred:</strong>
    <ul>
      <li>Invalid Login</li>
    </ul>
  </div>
  {% endif %}

  <div class="login_box">
    <p>Login below to access and manage your domain names and account information.</p>
    <form name="form" method="post" action="/members/member/member_login" onsubmit="return check_login(this)">
      <input type="hidden" name="submitted" value="TRUE">
      <table width="330" border="0" align="center">
        <tr id="member_username">
          <td width="170">Username:</td>
          <td><input name="member_username" type="text" class="input_login"></td>
        </tr>
        <tr id="member_password">
          <td>Password:</td>
          <td><input name="member_password" type="password" class="input_login"></td>
        </tr>
        <tr>
          <td>&nbsp;</td>
          <td align="right"><input type="Submit" name="Submit" value="Login Now" class="button_form_small"
                                   style="margin:8px 0"></td>
        </tr>
      </table>
    </form>
  </div>

  <div class="login_box">
    <p><strong>Lost your password?</strong></p>
    <p>If you have forgotten your password, simply enter your username or domain name and we'll email it to you. If this
      doesn't work, please <a href="mailto:domains@sigate.com.au">contact us</a>.</p>
    <form action="" name="form" id="form" method="post" onsubmit="return check_forgot_password(this)">
      <input type="hidden" name="submitted" value="TRUE">
      <table width="330" border="0" align="center">
        <tr id="keyword">
          <td width="170">Domain / Username:</td>
          <td><input name="keyword" type="text" class="input_login" style="width: 180px"></td>
        </tr>
        <tr>
          <td>&nbsp;</td>
          <td align="right"><input type="submit" name="Submit2" value="Retrieve Password" class="button_form" style="margin:10px 0"></td>
        </tr>
      </table>
      <input name="password" value="reset" type="hidden">
    </form>
  </div>

</div>